Aggregator ports (special ports that collect historic values and perform calculations on them) can also persist their history in the persistent configuration file. This allows them not to lose their history over restarts of the OpenHAT service. In addition to persisting their history whenever a new value is collected they also persist it on shutdown of the OpenHAT service. Also, they store a timestamp to determine whether the history data is outdated or not. When the data is being read the timestamp must be within the specified interval period for the values to be accepted. There are two caveats, however: On shutdown, the values are saved with the current timestamp regardless of when the last value has been collected. When the data is being loaded, collection resumes with the persisted timestamp as start of the interval. This may cause the last persisted value and the next value being collected to have an interval that is larger than the specified interval. Second, the timestamp may not have a defined starting point, meaning that time can start running at server startup. This may cause a loss of historic data over server restarts because the new timestamps may be lower than those in the persisted configuration. This behavior may be OS-dependent.

Automatic aggregator ports, i. e. those that are automatically generated when a Dial port specifies a History setting, are automatically persisted.

